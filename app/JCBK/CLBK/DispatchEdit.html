<div class="modal-header">
    <button type="button btm-sm" class="close" ng-click="close()">&times;</button>
    <h4 class="modal-title">
        <b>布控编辑</b>
    </h4>
</div>

<div class="modal-body">

<div class="row">
  <div class="col-sm-8">
    <form name="iForm" class="form-horizontal">
      <div class="row">
        <div class="col-sm-6 ">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">布控类型</label>
            <div class="col-sm-8" ng-class="{'has-error': iForm.dispType.$invalid}">
                <select type="text" ng-model="record.dispType.code" class="form-control input-sm"
                        ng-options="d.code as d.name for d in dispTypes">
                </select>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">布控原因</label>
            <div class="col-sm-8" ng-class="{'has-error': iForm.dispReason.$invalid}">
                <select type="text" ng-model="record.dispReason.code" class="form-control input-sm"
                        ng-options="d.code as d.name for d in reasons">
                </select>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">车牌号码</label>
            <div class="col-sm-3" ng-class="{'has-error': iForm.plateColor.$invalid}">
                <select type="text" ng-model="record.plateColor.code" class="form-control input-sm"
                        ng-options="d.code as d.name for d in plateColors">
                </select>
            </div>
            <div class="col-sm-5">
               <input name="plateNo" placeholder="必填" type="text" validator="[required, len15]" ng-model="record.plateNo" class="form-control input-sm">
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">号牌种类</label>
            <div class="col-sm-8">
                <select type="text" ng-model="record.plateType.code" class="form-control input-sm"
                        ng-options="d.code as d.name for d in plateTypes">
                  <option value="">全部</option>
                </select>
            </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">车身颜色</label>
            <div class="col-sm-8">
              <select type="text" ng-model="record.carColor.code" class="form-control input-sm"
                        ng-options="d.code as d.name for d in carColors" required>
                <option value="">全部</option>
              </select>
            </div>
            </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">车辆类型</label>
            <div class="col-sm-8">
                <select type="text" ng-model="record.carType.code" class="form-control input-sm"
                        ng-options="d.code as d.name for d in carTypes">
                  <option value="">全部</option>
                </select>
            </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">车辆品牌</label>
            <div class="col-sm-8">
                <input type="text" class="form-control input-sm"  ng-model="record.brand">
            </div>
            </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">布控性质</label>
            <div class="col-sm-8">
               <select type="text" ng-model="record.dispNature.code" class="form-control input-sm"
                          ng-options="d.code as d.name for d in dispNatures">
               </select>
            </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">布控单位</label>
            <div class="col-sm-8">
              <input name="person" type="text" class="form-control input-sm" ng-model="record.dispDeptName" readonly>
            </div>
            </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">布控联系人</label>
            <div class="col-sm-8" ng-class="{'has-error': iForm.person.$invalid}">
                 <input name="person" type="text" class="form-control input-sm" ng-model="record.person" readonly>
            </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">值班电话</label>
            <div class="col-sm-8">
                <input name="tel" placeholder="必填" type="text" validator="[required, len20]" class="form-control input-sm" ng-model="record.tel">
            </div>
          </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group">
            <label class="col-sm-4 control-label input-sm">手机号码</label>
            <div class="col-sm-8">
                <input name="phone" placeholder="必填" type="text" validator="[required, len11]" class="form-control input-sm" ng-model="record.phone">
            </div>
          </div>
      </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">证件号码</label>
            <div class="col-sm-8" ng-class="{'has-error': iForm.dispIdNumber.$invalid}">
              <input name="dispIdNumber" type="text" class="form-control input-sm" ng-model="record.dispIdNumber" readonly>
            </div>
            </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">布控时间</label>
            <div class="col-sm-8" ng-class="{'has-error': iForm.dispIdNumber.$invalid}">
              <input id="dispTime" calendar placeholder="必填" validator="[required, datetime]" type="text" class="form-control input-sm" ng-model="record.dispTime"/>
            </div>
          </div>
      </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label class="col-sm-4 control-label input-sm">截止时间</label>
            <div class="col-sm-8" ng-class="{'has-error': iForm.dispEndTime.$invalid}">
                <input id="dispEndTime" calendar placeholder="必填" validator="[required, datetime]" type="text" class="form-control input-sm" ng-model="record.dispEndTime"/>
            </div>
          </div>
      </div>
      </div>
      <div class="form-group">
            <label class="col-sm-2 control-label input-sm">布控点位</label>
            <div class="col-sm-8" >
              <input id="points" type="text" readonly="true" ng-model="points"  ng-click="showPointMenu()" class="form-control input-sm">
            </div>
            <!-- <button class="btn btn-primary btn-sm col-sm-1" ng-click="addPointsByMap()"><i class="fa fa-globe">地图</i> </button> -->
      </div>
      <div class="form-group">
            <label ng-show="record.dispNature.code===0" class="col-sm-2 control-label input-sm">接收对象</label>
            <div ng-show="record.dispNature.code===0" class="col-sm-10" >
              <input id="users" type="text" readonly="true" ng-model="users"  ng-click="showMenu()" class="form-control input-sm">
            </div>
      </div>
      <div class="form-group">
          <label class="col-sm-2 control-label input-sm">案件描述</label>
          <div class="col-sm-10" >
               <textarea class="form-control" ng-model="record.dispDesc"></textarea>
          </div>
      </div>
      <div class="row">
        <label class="col-sm-2 control-label input-sm">车辆照片</label>
          <div class="col-sm-8" >
              <input id="fileToUpload" type="file" name="fileToUpload" size="45">
          </div>
          <button class="btn btn-primary btn-sm col-sm-1" ng-click="ajaxFileUpload()"><i class="fa fa-upload">上传</i> </button>
      </div>
    </form>
  </div>
  <div id="imgContent" class="col-sm-4" style="border: 1px solid rgb(66, 139, 202); height: 320px; width: 320px;">
  </div>
</div>

<div id="menuContent1" class="treeview-back" style="display:none; position: absolute; z-index: 10000; max-height: 170px;background-color: #ffffff;">
    <ul id="userTree" class="ztree" style="margin-top:0; width:160px;"></ul>
</div>

<div id="menuContent2" class="treeview-back" style="display:none; position: absolute; z-index: 10000; max-height: 169px;background-color: #ffffff;">
    <ul id="pointTree" class="ztree" style="margin-top:0; width:160px;"></ul>
</div>

</div>

<div class="modal-footer">
    <button type="button" class="btn btn-default btn-sm" ng-click="close()">取消</button>
    <a class="btn btn-primary btn-sm" ng-click="save()" ng-disabled="iForm.$invalid">保存</a>
</div>