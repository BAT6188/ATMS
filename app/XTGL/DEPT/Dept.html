<legend>部门管理</legend>

<!-- 工具栏 -->
<div class="row">
    <div class="col-sm-2 btn-group">
      <a class="btn btn-success btn-sm" ng-href="#XTGL.DEPT.New">
        <span class="glyphicon glyphicon-plus"></span> 新增
      </a>
      <button class="btn btn-danger btn-sm" ng-click="remove();">
        <span class="glyphicon glyphicon-minus"></span> 删除
      </button>
    </div>
    <div class="col-sm-10">
      <!-- <div class="row"> -->
        <div class="col-sm-11">
          <div class="row">
            <div class="col-sm-4">
              <div class="input-group">
                <span class="input-group-addon">名称</span>
                <input type="text" class="form-control input-sm" ng-model="Q.deptName">
              </div>
            </div>
            <div class="col-sm-4">
              <div class="input-group">
                <span class="input-group-addon">编码</span>
                <input type="text" class="form-control input-sm" ng-model="Q.deptCode">
              </div>
            </div>
            <div class="col-sm-4">
              <div class="input-group">
                <span class="input-group-addon">上级部门</span>
                <select class="selectpicker show-tick form-control col-sm-12"
                    opts="parentDepts"
                    showname = "deptName"
                    val="deptCode"
                    title="默认选择全部"
                    data-live-search="true"
                    data-subtext="laneCount"
                    objs="Q.parentDept"
                    multiple
                    data-size="10"
                    style="height: 30px;"></select>
              </div>
            </div>
          </div>
        </div>
        <button class="col-sm-1 btn btn-primary btn-sm" type="button" ng-click="query();">
            <i class="fa fa-search"> 查询</i>
        </button>
      <!-- </div> -->
    </div>
</div>


<!-- 工具栏 -->
<!-- <div class="row">
    <div class="col-sm-6 btn-group" style="padding-left:15px;">
      <a class="btn btn-success btn-sm" ng-href="#XTGL.DEPT.New">
        <span class="glyphicon glyphicon-plus"></span> 新增
      </a>
      <button class="btn btn-danger btn-sm" ng-click="remove();">
        <span class="glyphicon glyphicon-minus"></span> 删除
      </button>
    </div>

    <div class="col-sm-6">
      <div class="input-group">
        <input type="text" class="form-control input-sm input-sm" 
          placeholder="按名称查询..."
          ng-model="Q.deptName">
        <span class="input-group-btn">
          <button class="btn btn-primary btn-sm" type="button" ng-click="query();">
            <span class="glyphicon glyphicon-search" tooltip="查询"></span>
          </button>
        </span>
      </div>
    </div>
</div> -->

<!-- 表格 -->
<div class="row">
  <div class="col-sm-12 map-over-this">
    <table class="table table-bordered table-hover table-condensed">
      <thead>
        <tr>
          <th class="check"><input type="checkbox" ng-model="allChecked" ng-click="selectAll();"></th>
          <!-- <th class="remove"></th> -->
          <!-- <th class="no">序号</th> -->
          <th>名称</th>
          <th>编码</th>
          <th>上级部门</th>
          <th>备注</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="record in records">
          <td class="check"><input type="checkbox" ng-model="checks[$index]" ng-click="select($index);"></td>
          <!-- <td><button class="close">×</button></td> -->
          <!-- <td class="no">{{( + 1) + (Q.page - 1) * Q.pageSize}}</td> -->
          <td><a ng-href="#XTGL.DEPT.Dept/{{record.deptId}}/Edit">{{record.deptName}}</a></td>
          <td>{{record.deptCode}}</td>
          <td>{{record.parentDept.deptName}}</td>
          <td>{{record.remark}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- 分页栏 -->
<div class="row">
  <div class="col-sm-12">
    <div pagination class="pagination-sm pull-right" boundary-links="true" rotate="false" 
        total-items="total"
        page="Q.page" 
        items-per-page="Q.pageSize"
        max-size="Q.maxSize"
        on-select-page="pChange(page)"
        previous-text="上一页"
        next-text="下一页"
        last-text="最后一页"
        first-text="最前一页">
     </div>
    </div>
 </div>